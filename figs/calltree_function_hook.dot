strict digraph {
	edge [arrowhead=none];
	node [shape=none, width=0, height=0, label=""];

	caller [label="caller module"];
	control [label="control library"];
	gotcha [label=<<i>libgotcha</i>>];
	callee [label="callee module"];

	{
		// This weight must be at least the number of horizontal arrows.
		edge [style=dashed, weight=7];

		caller -> callerA -> callerB -> callerC -> callerD -> callerE -> callerF -> callerG -> callerH -> callerI;

		control -> controlA -> controlB;
		controlB -> controlC [style=solid, penwidth=2];
		controlC -> controlD -> controlE -> controlF;
		controlF -> controlG [style=solid, penwidth=2];
		controlG -> controlH -> controlI;

		gotcha -> gotchaA;
		gotchaA -> gotchaB [style=solid, penwidth=2];
		gotchaB -> gotchaC;
		gotchaC -> gotchaD [style=solid, penwidth=2];
		gotchaD -> gotchaE;
		gotchaE -> gotchaF [style=solid, penwidth=2];
		gotchaF -> gotchaG;
		gotchaG -> gotchaH [style=solid, penwidth=2];
		gotchaH -> gotchaI;

		callee -> calleeA -> calleeB -> calleeC -> calleeD;
		calleeD -> calleeE [style=solid, penwidth=2];
		calleeE -> calleeF -> calleeG -> calleeH -> calleeI;
	}

	{
		rank=same;
		callerA -> controlA [label="callee()                                                   ", headlabel="(redirected to procedure_linkage_override())"];
		controlA -> gotchaA [arrowhead=normal];
	}

	{
		rank=same;
		controlB -> gotchaB [label=<<i>prehook</i> ?>, arrowhead=normal, dir=back];
	}

	{
		rank=same;
		controlC -> gotchaC [arrowhead=normal];
	}

	{
		rank=same;
		gotchaD -> calleeD [label="callee()", arrowhead=normal];
	}

	{
		rank=same;
		gotchaE -> calleeE [arrowhead=normal, dir=back];
	}

	{
		rank=same;
		controlF -> gotchaF [label=<<i>hook</i> ?>, arrowhead=normal, dir=back];
	}

	{
		rank=same;
		controlG -> gotchaG [arrowhead=normal];
	}

	{
		rank=same;
		callerH -> controlH [arrowhead=normal, dir=back];
		controlH -> gotchaH;
	}
}
